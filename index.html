<script>
  function loadContent(section) {
    const content = document.getElementById('main-content');
    
    // âœ… Save first (so refresh uses latest section)
    sessionStorage.setItem('lastSection', section);

    // Clear existing content and reset scroll
    content.innerHTML = '';
    content.scrollTop = 0;

    let html = '';

    switch (section) {
      case 'block':
        html = `
          <div class="relative overflow-hidden">
            <h1 class="text-5xl text-red-800 mb-4 main-title">Welcome to The Block</h1>
            <p class="text-lg text-gray-700">This is your hub â€” news, events, daily goals, and more coming soon.</p>
          </div>
        `;
        break;

      case 'homies':
        html = `
          <div class="relative overflow-hidden">
            <h1 class="graffiti-title text-7xl text-red-600 font-bold mb-6 break-words">Your Homies</h1>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
                <div class="mb-4">
                  <img src="images/RecruitAHomie.jpeg" alt="Recruit a Homie Icon" class="w-20 h-20 mx-auto rounded-md" />
                </div>
                <h2 class="text-2xl font-bold text-red-600 mb-2">Recruit a Homie</h2>
                <p class="text-gray-700 mb-4">Recruit a new Homie to join your squad. Choose from the base set of Homies here.</p>
                <a href="recruiting.html" class="inline-block bg-red-600 hover:bg-red-700 text-white py-2 px-4 bubbly">Visit Recruiting Agency</a>
              </div>

              <div class="bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
                <div class="mb-4">
                  <img src="images/SaveAHomie.jpeg" alt="Save a Homie Icon" class="w-20 h-20 mx-auto rounded-md" />
                </div>
                <h2 class="text-2xl font-bold text-red-600 mb-2">Bail Out a Homie</h2>
                <p class="text-gray-700 mb-4">Bail out a Homie that was picked up off the streets, committing crimes to survive.</p>
                <a href="#" onclick="loadContent('adopt')" class="inline-block bg-red-600 hover:bg-red-700 text-white py-2 px-4 bubbly">Visit the Jail</a>
              </div>

              <div class="bg-white rounded-2xl shadow-md p-6 text-center hover:shadow-lg transition">
                <div class="mb-4">
                  <img src="images/AbandonAHomie.jpeg" alt="Abandon a Homie Icon" class="w-20 h-20 mx-auto rounded-md" />
                </div>
                <h2 class="text-2xl font-bold text-red-600 mb-2">Kick 'Em Out</h2>
                <p class="text-gray-700 mb-4">Let go of your Homies who ain't cuttin' it. See if they can fend for themselves out on the streets.</p>
                <a href="#" onclick="loadContent('abandon')" class="inline-block bg-red-600 hover:bg-red-700 text-white py-2 px-4 bubbly">Take a Drive</a>
              </div>
            </div>
          </div>
        `;
        break;

      case 'recruit':
        html = `
          <h1 class="text-5xl text-red-800 mb-6 main-title">ğŸ¯ Recruit a Homie</h1>
          <p class="text-lg text-gray-700 mb-4">Pick your first eHomie from a lineup of real ones. No randoms hereâ€”choose wisely and train 'em right.</p>
          <div class="flex space-x-4 mb-6">
            <button onclick="loadContent('adopt')" class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 bubbly">â¤ï¸ Save a Homie</button>
            <button onclick="loadContent('recruit')" class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 bubbly">ğŸ¯ Recruit a Homie</button>
            <button onclick="loadContent('abandon')" class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 bubbly">ğŸšª Abandon a Homie</button>
          </div>
          <p class="text-gray-600">[Insert your recruit selection UI here]</p>
        `;
        break;

      case 'adopt':
        html = `
          <h1 class="text-5xl text-red-800 mb-6 main-title">â¤ï¸ Save a Homie</h1>
          <p class="text-lg text-gray-700 mb-4">These homies been through it and need a new shot. Show some love, give 'em a home, and they'll hold you down for life.</p>
          <p class="text-gray-600">[Insert adopt interface here]</p>
        `;
        break;

      case 'abandon':
        html = `
          <h1 class="text-5xl text-red-800 mb-6 main-title">ğŸšª Kick 'Em Out</h1>
          <p class="text-lg text-gray-700 mb-4">Not every eHomie makes the cut. If itâ€™s time to part ways, let 'em go with style. But donâ€™t say we didnâ€™t warn ya.</p>
          <p class="text-gray-600">[Insert abandon interface here]</p>
        `;
        break;

      case 'stash':
        html = `
          <div class="relative overflow-hidden">
            <h1 class="graffiti-title text-7xl text-red-600 font-bold mb-6 break-words">Stash Spot</h1>
            <p class="text-lg text-gray-700">Store your gear, goodies, and street treasures here. Inventory system coming soon.</p>
          </div>
        `;
        break;

      case 'cred':
        html = `
          <div class="relative overflow-hidden">
            <h1 class="graffiti-title text-7xl text-red-600 font-bold mb-6 break-words">Street Cred</h1>
            <p class="text-lg text-gray-700">Track your rep, badges, and homie milestones. More stats dropping soon.</p>
          </div>
        `;
        break;

      case 'settings':
        html = `
          <div class="relative overflow-hidden">
            <h1 class="graffiti-title text-7xl text-red-600 font-bold mb-6 break-words">Settings</h1>
            <p class="text-lg text-gray-700">Adjust your account, theme, and game preferences here.</p>
          </div>
        `;
        break;

      default:
        html = `<p class="text-red-600">Page not found.</p>`;
    }

    content.innerHTML = html;
  }

  // âœ… Load last visited section or default to block
  window.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    const section = params.get('section') || sessionStorage.getItem('lastSection') || 'block';
    loadContent(section);
  });
</script>
